\* TLC Configuration for Two-Phase Commit Model Checking

\* Specification to check
SPECIFICATION Spec

\* Constants - Define the system size
CONSTANTS
    Participants = {p1, p2, p3}
    Coordinator = coord

\* Invariants to check (safety properties)
INVARIANTS
    TypeInvariant
    TwoPhaseCommitProperties!CommitSafetyProperty
    TwoPhaseCommitProperties!AbortSafetyProperty
    TwoPhaseCommitProperties!ConsistencyProperty
    TwoPhaseCommitProperties!AgreementProperty

\* Properties to check (liveness properties)
PROPERTIES
    TwoPhaseCommitProperties!TerminationProperty
    TwoPhaseCommitProperties!ConditionalCommitProperty
    TwoPhaseCommitProperties!ConditionalAbortProperty

\* State space constraints to make model checking feasible
CONSTRAINT
    \* Limit the number of messages in transit to prevent state explosion
    Cardinality(msgs) <= 10

\* Symmetry to reduce state space
SYMMETRY Permutations(Participants)